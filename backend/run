#!/usr/bin/with-contenv bashio
# Standard S6 run script for Python service

echo "Starting Automation Backend Engine..."

# Export HA specific environment variables if needed
export MQTT_HOST=$(bashio::services mqtt "host")
export MQTT_PORT=$(bashio::services mqtt "port")
export MQTT_USER=$(bashio::services mqtt "username")
export MQTT_PASSWORD=$(bashio::services mqtt "password")

# Run the application
exec uvicorn main:app --host 0.0.0.0 --port 8000
